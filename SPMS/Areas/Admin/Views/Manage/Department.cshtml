@{
	ViewData["Title"] = "Department";
	Department dpt = new Department();
	var dpts = ViewData["Departments"] as IEnumerable<Department>; 
}


<Partial name="_DepartmentHeader" />
<Partial name="_Sidebar" />


<div class="content-body">
	<div class="container-fluid">
		<div class="row page-titles">
			<ol class="breadcrumb">
				<li class="breadcrumb-item active"><a href="javascript:void(0)">Depaertment</a></li>
				<li class="breadcrumb-item"><a href="javascript:void(0)">Add</a></li>
			</ol>
		</div>
		<!-- row -->
		@*<div class="row">
			<div class="col-xl-6 col-lg-6">
				<div class="card">
					<div class="card-header">
						<h4 class="card-title">Add Department</h4>
					</div>
						<span class="text-danger text-center mt-3"cl>@TempData["error"]</span>
					<div class="card-body">
						<div class="basic-form">
							
							<form asp-action="AddDepartment" method="post">
								<div class="mb-3">
									<input type="text" asp-for="@dpt.Name" name="Name" class="form-control input-default" required/>
								</div>
								<button type="submit" class="btn btn-primary">Add Department</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>*@


		<div class="col-lg-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title">Departments</h4>
					<button type="button" class="btn btn-primary mb-2" data-bs-toggle="modal" data-bs-target="#dptModal">Add</button>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-responsive-sm">
							<thead>
								<tr>
									<th>#</th>
									<th>Name</th>
									<th><strong></strong></th>
								</tr>
							</thead>
							<tbody>
								@foreach (var item in @dpts)
								{
									<tr>
										<td>@item.DepartmentId</td>
										<td>@item.Name</td>
										<td>
											<a data-bs-toggle="modal" data-bs-target="#basicModal_@item.DepartmentId" class="btn btn-primary shadow btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
											<div class="modal fade" id="basicModal_@item.DepartmentId">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Edit Department Name</h5>
															<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
														</div>
														<div class="modal-body">
															<form asp-action="Edit" method="post" enctype="multipart/form-data">
																<input asp-for="@dpt.DepartmentId" name="DepartmentId" value="@item.DepartmentId" type="hidden" class="form-control">


																<div class="row">
																	<div class="col-lg-12">
																		<div class="mb-3">
																			<label class="text-black font-w600 form-label">Department Name <span class="required">*</span></label>
																			<input asp-for="@item.Name" name="Name" type="text" class="form-control"  id="comment" required/>
																		</div>
																	</div>
																	
																	<div class="modal-footer">
																		<button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
																		<button type="submit" class="btn btn-primary">Save</button>
																	</div>
																</div>
															</form>
														</div>
													</div>
												</div>
											</div>
											<a asp-action="Delete" asp-route-id="@item.DepartmentId" class="btn btn-danger shadow btn-xs sharp"><i class="fa fa-trash"></i></a>

										</td>
									</tr>
								}

							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<div class="modal fade" id="dptModal">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Add Department</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body">
				<form asp-action="adddepartment" method="post">

					<div class="row">

						<div class="col-lg-12">
							<div class="mb-3">
								<label class="text-black font-w600 form-label">Add Department <span class="required">*</span></label>
								<input type="text" asp-for="@dpt.Name" name="Name" class="form-control input-default" required />
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
							<button type="submit" class="btn btn-primary">Submit</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<script src="~/js\loading.js"></script>